<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Index</title>
    <link href="css/main-styles.css" rel="stylesheet" type="text/css" />
    <link href="css/main-header-footer-styles.css" rel="stylesheet" type="text/css" />
    <link href="css/index-styles.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&display=swap" rel="stylesheet">
  </head>

  <body class="home-body">
    {{> header pageTitle="Health Tracker"}} {{> feedbackWidget}}
    {{> mobileHeader}}

    <section class="hero content-container">
      <div class="hero-container">
        <!-- Desktop: Text content on left -->
        <div class="hero-content">
          <h1 class="hero-title">
            <span class="hero-text">Your secure</span>
            <span class="hero-text">and easy-to-use</span>
            <span class="hero-text">personalized</span> 
            <span class="hero-text">health portal</span>
          </h1>
          <!-- Desktop button - hidden on mobile -->
          <a href="/register" class="button-basics btn-primary desktop-only">
            <div class="flex-horizontal">TRY IT OUT</div>
          </a>
        </div>
        
        <!-- Mobile image - appears after text on mobile, on right on desktop -->
        <img
          src="images/iphonelayered-2.png"
          loading="lazy"
          alt="Mobile app demonstration"
          class="mobile"
        />
      </div>
      
      <!-- Mobile button - OUTSIDE container, only shows on mobile -->
      <a href="/register" class="button-basics btn-primary mobile-only">
        <div class="flex-horizontal">TRY IT OUT</div>
      </a>
    </section>

    <div class="wave-light-bg">
      <div class="wave-pattern">
        {{> svg/wavePattern1}}
      </div>
    </div>

    <div class="use-cases-section">
      <div class="slider-content-container">
          <div class="section-header">
              <h2 class="section-title">Perfect for you if you are</h2>
          </div>
          
          <!-- Replace slider-container with scroll-container -->
          <div class="scroll-container">
              <!-- Card 1 -->
              <div class="use-case-block">
                  <div class="use-case-card">
                      <div class="card-icon">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                              <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z" />
                          </svg>
                      </div>
                      <div class="card-title">Trying to be proactive</div>
                      <div class="card-description">Our insights allow you to be proactive rather than reactive</div>
                      <div class="card-illustration">
                        <img src="/images/proactive.svg" alt="Illustration">
                      </div>
                  </div>
              </div>

              <!-- Card 2 -->
              <div class="use-case-block">
                  <div class="use-case-card">
                      <div class="card-icon">
                          <svg viewBox="0 0 24 24">
                              <path d="M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm0-2a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm1-8h3v2h-5V7h2v4z" />
                          </svg>
                      </div>
                      <div class="card-title">Managing conditions</div>
                      <div class="card-description">Track symptoms, correlations, and progress over time</div>
                      <div class="card-illustration">
                        <img src="/images/manageconditions.svg" alt="Illustration">
                      </div>
                  </div>
              </div>

              <!-- Card 3 -->
              <div class="use-case-block">
                  <div class="use-case-card">
                      <div class="card-icon">
                          <svg viewBox="0 0 24 24">
                              <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />
                          </svg>
                      </div>
                      <div class="card-title">Caring for loved ones</div>
                      <div class="card-description">Helps reduce the burden of stressful researching</div>
                      <div class="card-illustration">
                        <img src="/images/lovedones.svg" alt="Illustration">
                      </div>
                  </div>
              </div>

              <!-- Card 4 -->
              <div class="use-case-block">
                  <div class="use-case-card">
                      <div class="card-icon">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                              <path d="m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5q0-2.725 1.888-4.612T9.5 3q2.725 0 4.612 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5q0-1.875-1.312-3.188T9.5 5Q7.625 5 6.312 6.312T5 9.5q0 1.875 1.312 3.188T9.5 14"/>
                          </svg>
                      </div>
                      <div class="card-title">Searching for a diagnosis</div>
                      <div class="card-description">Document symptoms and track patterns to make healthcare visits more effective</div>
                      <div class="card-illustration">
                        <img src="/images/searching.svg" alt="Illustration">
                      </div>
                  </div>
              </div>

              <!-- Card 5 -->
              <div class="use-case-block">
                  <div class="use-case-card">
                      <div class="card-icon">
                          <svg viewBox="0 0 24 24">
                              <path d="M13.5 2c-5.629 0-10.212 4.436-10.475 10h-3.025l4.537 5.917 4.463-5.917h-2.975c.26-3.902 3.508-7 7.475-7 4.136 0 7.5 3.364 7.5 7.5s-3.364 7.5-7.5 7.5c-2.381 0-4.502-1.119-5.876-2.854l-1.847 2.449c1.919 2.088 4.664 3.405 7.723 3.405 5.798 0 10.5-4.702 10.5-10.5s-4.702-10.5-10.5-10.5z" />
                          </svg>
                      </div>
                      <div class="card-title">Boosting overall health</div>
                      <div class="card-description">Monitor wellness metrics and lifestyle factors</div>
                      <div class="card-illustration">
                        <img src="/images/boostmetrics.svg" alt="Illustration">
                      </div>
                  </div>
              </div>
          </div>
      </div>
    </div>

    <div class="wave-light-bg">
      <div class="wave-pattern">
        {{> svg/wavePattern2}}
      </div>
    </div>

    <div class="quote-background-1">
      <div class="content-container quote-container-1">
        <h1 class="quote-1">
          Optimize your health with unique actionable insights
        </h1>
      </div>
    </div>

    <div class="dashboard-img">
      <div class="content-container">
        <div class="inner-content-container">
            <!-- Laptop images container -->
            <div class="laptop-image-container">
                <!-- Placeholder for aspect ratio -->
                <div class="laptop-placeholder"></div>
                <!-- All images preloaded and layered -->
                <img src="images/laptop1.png" alt="Basic Info dashboard" class="demo-page-img active" data-target="basic-info">
                <img src="images/laptop2.png" alt="Upload Documents dashboard" class="demo-page-img" data-target="upload-docs">
                <img src="images/laptop3.png" alt="Reports dashboard" class="demo-page-img" data-target="reports">
                <img src="images/laptop4.png" alt="Insights dashboard" class="demo-page-img" data-target="insights">
            </div>
            <div class="hover-titles">
              <div class="hover-title active" data-target="basic-info">üë§ Basic Info</div>
              <div class="hover-title" data-target="upload-docs">üìÅ Upload Medical Documents</div>
              <div class="hover-title" data-target="reports">üìä Reports</div>
              <div class="hover-title" data-target="insights">üí° Insights</div>
            </div>
        </div>
      </div>
    </div>

    <div class="wave-light-bg">
      <div class="wave-pattern">
        {{> svg/wavePattern3}}
      </div>
    </div>

    <div class="quote-background-2">
      <div class="content-container quote-container-2">
        <div class="quote-2">
          &quot;This (system) change will not happen by the medical
          establishment, either; it will happen only if and when patients and
          physicians demand it&quot;
        </div>
        <div class="quote-2-by">- Dr. Peter Attia in his book
          Outlive
        </div>
        {{!-- <div class="cta-section">
          <h3 class="cta-title">Ready to transform your health journey?</h3>
          <a href="/register" class="cta-button">Get Started Today</a>
        </div> --}}
      </div>
    </div>

    <div class="wave-light-bg-5">
        <div class="wave-pattern">
          {{> svg/wavePattern5}}
        </div>
    </div>

    {{> footer}}

    <script src="js/main.js" defer type="module"></script>
    <script src="js/main-mobile.js" defer type="module"></script>
    <script> // Animation handling
      document.addEventListener("DOMContentLoaded", () => {
        // Flag to track if animations have played during this session
        let animationsHavePlayed = false;

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              const title = entry.target;

              if (entry.isIntersecting && !animationsHavePlayed) {
                // First time seeing the title - play animations
                title.style.visibility = "visible";
                
                // Make image visible for animations
                const mobileImage = document.querySelector(".mobile");
                const button = document.querySelector(".btn-primary");
                
                if (mobileImage) mobileImage.style.visibility = "visible";
                if (button) button.style.visibility = "visible";
                
                animationsHavePlayed = true;
              } else if (entry.isIntersecting && animationsHavePlayed) {
                // Already seen the title - show without animations
                title.style.visibility = "visible";

                // Remove animations and show content immediately
                document.querySelectorAll(".hero-text, .mobile").forEach((el) => {
                  el.style.animation = "none";
                  el.style.opacity = "1";
                  el.style.transform = "none";
                  el.style.visibility = "visible";
                });

                // Handle button - remove animations and show
                const button = document.querySelector(".btn-primary");
                if (button) {
                  button.style.animation = "none";
                  button.style.opacity = "1";
                  button.style.transform = "none";
                  button.style.visibility = "visible";
                  button.style.display = "inline-flex";
                }

                // Handle secure-text element specifically
                const secureText = document.querySelector(".secure-text");
                if (secureText) {
                  secureText.style.color = "#5cb15d";
                }
              }
            });
          },
          {
            threshold: 0.5,
          }
        );

        observer.observe(document.querySelector(".hero-title"));
        
        // Removed resize listener since we no longer need to handle mobile/desktop button switching
      });
    </script>
    <script> // Hero scrolling animation
      document.addEventListener('DOMContentLoaded', function() {
        const cardBlocks = document.querySelectorAll('.use-case-block');
        console.log('Found use case cards:', cardBlocks.length);
        
        if (cardBlocks.length === 0) return;

        // Show the first card immediately
        setTimeout(() => {
            cardBlocks[0].classList.add('card-visible');
            console.log('First card shown');
        }, 300);

        // Responsive scroll detection
        function checkCardsOnScroll() {
            const isMobile = window.innerWidth <= 767;
            const isTablet = window.innerWidth <= 1024 && window.innerWidth > 767;
            
            cardBlocks.forEach((card, index) => {
                if (index === 0) return; // Skip first card
                
                const rect = card.getBoundingClientRect();
                const windowHeight = window.innerHeight;
                
                // Adjust trigger points based on screen size
                let topTrigger, bottomTrigger;
                
                if (isMobile) {
                    topTrigger = windowHeight * 0.7;
                    bottomTrigger = windowHeight * 0.3;
                } else if (isTablet) {
                    topTrigger = windowHeight * 0.65;
                    bottomTrigger = windowHeight * 0.35;
                } else {
                    topTrigger = windowHeight * 0.6;
                    bottomTrigger = windowHeight * 0.4;
                }
                
                if (rect.top < topTrigger && rect.bottom > bottomTrigger) {
                    if (!card.classList.contains('card-visible')) {
                        card.classList.add('card-visible');
                        console.log('Card', index + 1, 'shown on', isMobile ? 'mobile' : isTablet ? 'tablet' : 'desktop');
                    }
                }
            });
        }

        // Handle window resize
        let resizeTimeout;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(checkCardsOnScroll, 100);
        });

        // Smooth scroll listener
        let scrollTimeout;
        window.addEventListener('scroll', function() {
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(checkCardsOnScroll, 10);
        });
        
        checkCardsOnScroll();
    });
    </script>
    <script> // Laptop image changer
        document.addEventListener('DOMContentLoaded', function() {
            const titles = document.querySelectorAll('.hover-title');
            const images = document.querySelectorAll('.demo-page-img');
            
            titles.forEach(title => {
                title.addEventListener('mouseenter', function() {
                    const target = this.dataset.target;
                    
                    // Remove active class from all titles and images
                    titles.forEach(t => t.classList.remove('active'));
                    images.forEach(img => img.classList.remove('active'));
                    
                    // Add active class to current title and corresponding image
                    this.classList.add('active');
                    const targetImage = document.querySelector(`[data-target="${target}"].demo-page-img`);
                    if (targetImage) {
                        targetImage.classList.add('active');
                    }
                });
            });
        });
    </script>
    {{!-- <script>  // Debug panel for scroll animation (keep commented until needed)
      (function() {
        console.log("Creating scroll animation debug panel");
        
        document.addEventListener('DOMContentLoaded', function() {
          // Wait for the main scroll animation to initialize
          setTimeout(function() {
            // Create debug panel
            const debugPanel = document.createElement('div');
            debugPanel.style.cssText = `
              position: fixed;
              bottom: 10px;
              right: 10px;
              width: 300px;
              padding: 12px;
              background-color: rgba(0, 0, 0, 0.8);
              color: white;
              font-family: monospace;
              font-size: 12px;
              border-radius: 5px;
              z-index: 10000;
              pointer-events: none;
              opacity: 0.9;
            `;
            
            document.body.appendChild(debugPanel);
            
            // Add control buttons
            const controlPanel = document.createElement('div');
            controlPanel.style.cssText = `
              position: fixed;
              bottom: 10px;
              left: 10px;
              display: flex;
              gap: 10px;
              z-index: 10000;
            `;
            
            const toggleButton = document.createElement('button');
            toggleButton.textContent = 'Toggle Debug';
            toggleButton.style.cssText = `
              padding: 5px 10px;
              background-color: #4CAF50;
              color: white;
              border: none;
              border-radius: 4px;
              cursor: pointer;
              font-family: Arial, sans-serif;
              font-size: 12px;
            `;
            
            const resetButton = document.createElement('button');
            resetButton.textContent = 'Reset Cards';
            resetButton.style.cssText = `
              padding: 5px 10px;
              background-color: #2196F3;
              color: white;
              border: none;
              border-radius: 4px;
              cursor: pointer;
              font-family: Arial, sans-serif;
              font-size: 12px;
            `;
            
            controlPanel.appendChild(toggleButton);
            controlPanel.appendChild(resetButton);
            document.body.appendChild(controlPanel);
            
            // Button functionality
            toggleButton.addEventListener('click', function(e) {
              e.stopPropagation();
              debugPanel.style.display = debugPanel.style.display === 'none' ? 'block' : 'none';
            });
            
            resetButton.addEventListener('click', function(e) {
              e.stopPropagation();
              
              // Reset cards to initial state
              const cards = document.querySelectorAll('.use-case-card');
              const navDots = document.querySelectorAll('.nav-dot');
              
              cards.forEach((card, i) => {
                if (i === 0) {
                  card.classList.add('active');
                  card.style.opacity = '1';
                  card.style.visibility = 'visible';
                } else {
                  card.classList.remove('active');
                  card.style.opacity = '0';
                  card.style.visibility = 'hidden';
                }
              });
              
              navDots.forEach((dot, i) => {
                dot.classList.toggle('active', i === 0);
              });
              
              console.log("Cards reset to initial state");
              
              // Scroll back to top of hero section
              const heroSection = document.getElementById('scrollHero');
              if (heroSection) {
                window.scrollTo({
                  top: heroSection.offsetTop,
                  behavior: 'smooth'
                });
              }
            });
            
            // Get elements needed for debugging
            const heroSection = document.getElementById('scrollHero');
            const scrollSpacer = heroSection?.querySelector('.scroll-spacer');
            const cards = heroSection?.querySelectorAll('.use-case-card');
            const navDots = heroSection?.querySelectorAll('.nav-dot');
            
            // Determine trigger points (same calculation as main script)
            const triggerPoints = [];
            if (cards && heroSection) {
              const cardCount = cards.length;
              const viewportHeight = window.innerHeight;
              const heroTop = heroSection.offsetTop;
              
              for (let i = 0; i < cardCount; i++) {
                triggerPoints.push(heroTop + (i * viewportHeight * 0.6));
              }
            }
            
            // Helper function to get active card index
            function getActiveCardIndex() {
              let activeIndex = -1;
              cards?.forEach((card, index) => {
                if (card.classList.contains('active')) {
                  activeIndex = index;
                }
              });
              return activeIndex;
            }
            
            // Update debug info on scroll
            window.addEventListener('scroll', function() {
              if (!heroSection) {
                debugPanel.innerHTML = "ERROR: Hero section not found!";
                return;
              }
              
              const scrollTop = window.scrollY;
              const heroTop = heroSection.offsetTop;
              const heroHeight = heroSection.offsetHeight;
              const spacerHeight = scrollSpacer ? scrollSpacer.offsetHeight : 0;
              const heroPosition = window.getComputedStyle(heroSection).position;
              const heroZIndex = window.getComputedStyle(heroSection).zIndex;
              
              // Find current zone based on scroll position
              let currentZone = -1;
              for (let i = triggerPoints.length - 1; i >= 0; i--) {
                if (scrollTop >= triggerPoints[i]) {
                  currentZone = i;
                  break;
                }
              }
              
              // Generate debug output
              debugPanel.innerHTML = `
                <div style="margin-bottom: 10px; font-weight: bold; border-bottom: 1px solid #555; padding-bottom: 6px;">Scroll Animation Debug</div>
                
                <div style="margin-bottom: 12px;">
                  <div style="display: flex; justify-content: space-between;">
                    <span>Scroll position:</span>
                    <span>${scrollTop.toFixed(0)}px</span>
                  </div>
                  <div style="display: flex; justify-content: space-between;">
                    <span>Hero top:</span>
                    <span>${heroTop}px</span>
                  </div>
                  <div style="display: flex; justify-content: space-between;">
                    <span>Spacer height:</span>
                    <span>${spacerHeight}px</span>
                  </div>
                  <div style="display: flex; justify-content: space-between;">
                    <span>Current zone:</span>
                    <span style="color: ${currentZone >= 0 ? '#4CAF50' : '#FF5252'}">${currentZone}</span>
                  </div>
                  <div style="display: flex; justify-content: space-between;">
                    <span>Active card:</span>
                    <span style="color: ${getActiveCardIndex() >= 0 ? '#4CAF50' : '#FF5252'}">${getActiveCardIndex()}</span>
                  </div>
                </div>
                
                <div style="margin-bottom: 12px; border-bottom: 1px solid #555; padding-bottom: 6px;">
                  <div style="margin-bottom: 6px; font-weight: bold;">Trigger Points:</div>
                  ${triggerPoints.map((point, i) => `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 2px;">
                      <span>Card ${i}:</span>
                      <span style="color: ${scrollTop >= point ? '#4CAF50' : '#FF5252'}">${point.toFixed(0)}px</span>
                    </div>
                  `).join('')}
                </div>
                
                <div style="margin-bottom: 8px; font-weight: bold; border-bottom: 1px solid #555; padding-bottom: 6px;">Element Status:</div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                  <span>Position:</span>
                  <span style="color: ${heroPosition === 'sticky' ? '#4CAF50' : '#FF5252'}">${heroPosition}</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                  <span>Z-Index:</span>
                  <span>${heroZIndex}</span>
                </div>
              `;
            }, { passive: true });
            
            console.log("Scroll animation debug panel initialized");
          }, 800); // Wait for main animation script to initialize
        });
      })();
    </script> --}}
    <script src="/js/feedbackWidget.js"></script>
  </body>
</html>